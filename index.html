<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Lab 2 | COMP1073 Client-Side JavaScript</title>
    <link href="style.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Airports</h1>
    <h2>Code &ensp; Airport</h2>
    <table>
      <tr>
        <td>
          Beijing Capital International, https://goo.gl/maps/iPe5fAqzq8C2 PEK
        </td>
        <td>
          John F Kennedy International, https://goo.gl/maps/JWwABmA3MBS2 JFK
        </td>
        <td>
          Lester B. Pearson International, https://goo.gl/maps/Ypu1dJLsnQu YYZ
        </td>
        <td>London Heathrow, https://goo.gl/maps/TFx8SrATdYr LHR</td>
        <td>
          Tokyo Haneda International, https://goo.gl/maps/5UxH2TxbRtT2 HND
        </td>
      </tr>
    </table>
  </body>
  <script>
    var airportList = document.querySelector("body table");
    airportList.innerHTML = "";
    var airports = [
      "Beijing Capital International, https://goo.gl/maps/iPe5fAqzq8C2 PEK",
      "John F Kennedy International, https://goo.gl/maps/JWwABmA3MBS2 JFK",
      "Lester B. Pearson International, https://goo.gl/maps/Ypu1dJLsnQu YYZ",
      "London Heathrow, https://goo.gl/maps/TFx8SrATdYr LHR",
      "Tokyo Haneda International, https://goo.gl/maps/5UxH2TxbRtT2 HND"
    ];

    for (var i = 0; i < airports.length; i++) {
      var input = airports[i];
      // Put your code here inside this loop

      //Find comma index
      let commaIndex = input.indexOf(",");

      //Getting airport name
      let airportName = input.slice(0, commaIndex);

      //Getting airport code
      let airportCode = input.slice(-3);

      //grab the URL
      let airportUrl = input.slice(commaIndex + 1, -3).trim();

      //create an anchor link
      let hyperlink = `<a href ="${airportUrl}">${airportCode} ${airportName}</a>`;

      var result = hyperlink;
      var listItem = document.createElement("tr");
      listItem.innerHTML = result;
      airportList.appendChild(listItem);
    }
  </script>
</html>
